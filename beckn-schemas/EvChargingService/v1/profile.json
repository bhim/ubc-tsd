{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.example.org/profiles/ev-charging/ev_charging/v1/profile.json",
  "title": "EV Charging â€” Charging Service Attribute Pack (v1)",
  "description": "Bundle of attribute schemas for EV charging: Item (ChargingService), Offer, Session (Order/Fulfillment), and Provider. Uses ./context.jsonld for JSON-LD mappings and ./vocab.jsonld for EV terms.",
  "type": "object",
  "additionalProperties": false,
  "$comment": "JSON-LD context: ./context.jsonld ; EV vocab: ./vocab.jsonld",
  "properties": {
    "ChargingService": {
      "$ref": "./attributes.yaml#/components/schemas/ChargingService"
    },
    "ChargingOffer": {
      "$ref": "../../EvChargingOffer/v1/attributes.yaml#/components/schemas/ChargingOffer"
    },
    "ChargingSession": {
      "$ref": "../../EvChargingSession/v1/attributes.yaml#/components/schemas/ChargingSession"
    },
    "ChargingProvider": {
      "$ref": "../../EvChargingPointOperator/v1/attributes.yaml#/components/schemas/ChargingPointOperator"
    }
  },
  "required": [
    "ChargingService"
  ],
  "operational_hints": {
    "indexHints": [
      "beckn:id",
      "beckn:descriptor.schema:name",
      "beckn:descriptor.beckn:shortDesc",
      "beckn:descriptor.beckn:longDesc",
      "beckn:availableAt",
      "beckn:itemAttributes.connectorType",
      "beckn:itemAttributes.maxPowerKW",
      "beckn:itemAttributes.socketCount",
      "beckn:itemAttributes.stationStatus",
      "beckn:itemAttributes.serviceLocation",
      "beckn:itemAttributes.parkingType",
      "beckn:itemAttributes.amenityFeature",
      "beckn:itemAttributes.chargingSpeed",
      "beckn:itemAttributes.powerType",
      "beckn:itemAttributes.paymentAccepted",
      "beckn:offerAttributes.priceSpecification.price",
      "beckn:offerAttributes.priceSpecification.priceCurrency",
      "beckn:offerAttributes.priceSpecification.unitText",
      "beckn:offerAttributes.tariffModel",
      "beckn:offerAttributes.idleFeePolicy",
      "beckn:orderAttributes.sessionStatus",
      "beckn:orderAttributes.reservationId",
      "beckn:orderAttributes.meteredEnergyKWh",
      "beckn:orderAttributes.totalCost.inclVat",
      "beckn:providerAttributes.operatorName"
    ],
    "piiHints": {
      "fields": [
        "message.order.billing.name",
        "message.order.billing.email",
        "message.order.billing.phone",
        "message.order.payments[].params.*",
        "beckn:orderAttributes.authorizationOtpHint",
        "beckn:providerAttributes.supportEmail",
        "beckn:providerAttributes.supportPhone",
        "beckn:providerAttributes.gstNumber",
        "beckn:providerAttributes.cin",
        "beckn:providerAttributes.msme",
        "beckn:providerAttributes.operatorContact"
      ],
      "treatment": "Do not index; redact in logs; encrypt at rest where stored.",
      "notes": "EV Charging PII includes authorization hints, vehicle information, and provider contact details. Discovery and catalog payloads generally contain no PII; PII appears post-transaction (confirm/status)."
    },
    "api_response_config": {
      "description": "Configuration for API response field sets - defines what fields to return for different use cases",
      "max_items_per_page": 1000,
      "max_offers_per_item": 1,
      "minimal_fields": {
        "item_attributes": [
          "beckn:id",
          "beckn:descriptor.schema:name",
          "beckn:descriptor.beckn:shortDesc",
          "beckn:availableAt",
          "beckn:itemAttributes.connectorType",
          "beckn:itemAttributes.maxPowerKW",
          "beckn:itemAttributes.socketCount",
          "beckn:itemAttributes.stationStatus",
          "beckn:itemAttributes.amenityFeature",
          "beckn:itemAttributes.parkingType",
          "beckn:itemAttributes.chargingSpeed"
        ],
        "offer_attributes": [
          "beckn:id",
          "beckn:price.currency",
          "beckn:price.value",
          "beckn:offerAttributes.priceSpecification.price",
          "beckn:offerAttributes.priceSpecification.priceCurrency",
          "beckn:offerAttributes.priceSpecification.unitText",
          "beckn:offerAttributes.tariffModel",
          "beckn:offerAttributes.idleFeePolicy",
          "beckn:offerAttributes.paymentAccepted",
          "beckn:validity.end"
        ]
      },
      "notes": "Minimal fields are returned for list/search APIs; full attributes are included only on detail views or when explicitly requested via query parameters."
    },
    "discover": {
      "supported_filters": [
        "text_search",
        "jsonpath_filters"
      ],
      "default_sort": [
        "distance.asc",
        "beckn:offerAttributes.priceSpecification.price.asc",
        "beckn:itemAttributes.maxPowerKW.desc"
      ]
    }
  }
}