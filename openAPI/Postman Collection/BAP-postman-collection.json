{
    "info": {
        "_postman_id": "bap-all-apis-combined-collection",
        "name": "BAP-UBC:EV-Charging-All-APIs",
        "description": "Complete collection of all BAP (Buyer App Provider) APIs for EV Charging domain",
        "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
        "_exporter_id": "30848972"
    },
    "item": [
        {
            "name": "discover",
            "item": [
                {
                    "name": "discovery-by-QR",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"filters\": {\n            \"type\": \"jsonpath\",\n            \"expression\": \"$[?(@.beckn:id == 'IND*CPO1*cs-01*evse-01*connectorid-01')]\"\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                },
                {
                    "name": "discovery-services-by-a-cpo",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"filters\": {\n            \"type\": \"jsonpath\",\n            \"expression\": \"$[?(@.beckn:provider.beckn:id == 'ecopower-charging')]\"\n        },\n        \"spatial\": [\n            {\n                \"op\": \"s_dwithin\",\n                \"targets\": \"$['beckn:itemAttributes.chargingStation.serviceLocation.geo']\",\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        77.59,\n                        12.94\n                    ]\n                },\n                \"distanceMeters\": 10000\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                },
                {
                    "name": "discovery-within-a-circular-boundary",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"spatial\": [\n            {\n                \"op\": \"s_dwithin\",\n                \"targets\": \"$['beckn:itemAttributes.chargingStation.serviceLocation.geo']\",\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        77.59,\n                        12.94\n                    ]\n                },\n                \"distanceMeters\": 10000\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                },
                {
                    "name": "discovery-within-a-timerange",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"filters\": {\n            \"type\": \"jsonpath\",\n            \"expression\": \"$[?(@.beckn:itemAttributes.vehicleType == '4-WHEELER' && @.beckn:itemAttributes.connectorType == 'CCS2' && @.beckn:availabilityWindow.schema:startTime <= '11:30:00' && @.beckn:availabilityWindow.schema:endTime >= '14:30:00')]\"\n        },\n        \"spatial\": [\n            {\n                \"op\": \"s_dwithin\",\n                \"targets\": \"$['beckn:itemAttributes.chargingStation.serviceLocation.geo']\",\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        77.59,\n                        12.94\n                    ]\n                },\n                \"distanceMeters\": 10000\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                },
                {
                    "name": "discovery-within-boundary-with-connection-spec",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"filters\": {\n            \"type\": \"jsonpath\",\n            \"expression\": \"$[?(@.beckn:itemAttributes.connectorType == 'CCS2' && @.beckn:itemAttributes.maxPowerKW >= 50)]\"\n        },\n        \"spatial\": [\n            {\n                \"op\": \"s_dwithin\",\n                \"targets\": \"$['beckn:availableAt'][*]['geo']\",\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        77.59,\n                        12.94\n                    ]\n                },\n                \"distanceMeters\": 10000\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                },
                {
                    "name": "discovery-within-boundary-with-vehicle-spec",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"{{version}}\",\n        \"action\": \"discover\",\n        \"domain\": \"{{domain}}\",\n        \"bap_id\": \"{{bap_id}}\",\n        \"bap_uri\": \"{{bap_uri}}\",\n        \"transaction_id\": \"{{transaction_id}}\",\n        \"message_id\": \"{{$guid}}\",\n        \"timestamp\": \"{{timestamp}}\",\n        \"ttl\": \"PT30S\",\n        \"schema_context\": [\n            \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingService/v1/context.jsonld\"\n        ]\n    },\n    \"message\": {\n        \"filters\": {\n            \"type\": \"jsonpath\",\n            \"expression\": \"$[?(@.beckn:fulfillment.beckn:deliveryAttributes.vehicle.make == 'Tata' && @.beckn:fulfillment.beckn:deliveryAttributes.vehicle.model == 'Nexon-EV' )]\"\n        },\n        \"spatial\": [\n            {\n                \"op\": \"s_dwithin\",\n                \"targets\": \"$['beckn:itemAttributes.chargingStation.serviceLocation.geo']\",\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        77.6,\n                        12.95\n                    ]\n                },\n                \"distanceMeters\": 8000\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{discover_url}}",
                            "host": [
                                "{{discover_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "select",
            "item": [
                {
                    "name": "ev-charging-select",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"location\": {\n            \"city\": {\n                \"code\": \"std:080\"\n            },\n            \"country\": {\n                \"code\": \"IND\"\n            }\n        },\n        \"action\": \"select\",\n        \"version\": \"2.0.0\",\n        \"bap_id\": \"app.example.com\",\n        \"bap_uri\": \"https://app.example.com/bap\",\n        \"bpp_id\": \"bpp.example.com\",\n        \"bpp_uri\": \"https://bpp.example.com/bpp\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"a1eabf26-29f5-4a01-9d4e-4c5c9d1a3d02\",\n        \"timestamp\": \"2025-10-14T07:31:00Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"items\": [\n                {\n                    \"id\": \"IND*CPO1*cs-01*evse-01*connectorid-01\",\n                    \"quantity\": {\n                        \"count\": 1\n                    }\n                }\n            ],\n            \"provider\": {\n                \"id\": \"ecopower-charging\"\n            },\n            \"fulfillment\": [\n                {\n                    \"stops\": [\n                        {\n                            \"type\": \"start\",\n                            \"location\": {\n                                \"gps\": \"12.9716,77.5946\",\n                                \"area_code\": \"560001\"\n                            },\n                            \"time\": {\n                                \"range\": {\n                                    \"start\": \"2025-10-14T10:00:00Z\",\n                                    \"end\": \"2025-10-14T11:00:00Z\"\n                                }\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{select_url}}",
                            "host": [
                                "{{select_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "init",
            "item": [
                {
                    "name": "ev-charging-init-bap",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"location\": {\n            \"city\": {\n                \"code\": \"std:080\"\n            },\n            \"country\": {\n                \"code\": \"IND\"\n            }\n        },\n        \"action\": \"init\",\n        \"version\": \"2.0.0\",\n        \"bap_id\": \"app.example.com\",\n        \"bap_uri\": \"https://app.example.com/bap\",\n        \"bpp_id\": \"bpp.example.com\",\n        \"bpp_uri\": \"https://bpp.example.com/bpp\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"a1eabf26-29f5-4a01-9d4e-4c5c9d1a3d02\",\n        \"timestamp\": \"2025-10-14T07:31:00Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"items\": [\n                {\n                    \"id\": \"IND*CPO1*cs-01*evse-01*connectorid-01\",\n                    \"quantity\": {\n                        \"count\": 1\n                    }\n                }\n            ],\n            \"provider\": {\n                \"id\": \"ecopower-charging\"\n            },\n            \"billing\": {\n                \"name\": \"John Doe\",\n                \"address\": \"Mapusa, Goa\",\n                \"state\": {\n                    \"name\": \"Goa\"\n                },\n                \"city\": {\n                    \"name\": \"Mapusa\"\n                },\n                \"email\": \"johndoe@example.com\",\n                \"phone\": \"+919876543210\"\n            },\n            \"fulfillment\": [\n                {\n                    \"end\": {\n                        \"contact\": {\n                            \"phone\": \"+919876543210\",\n                            \"email\": \"user@example.com\"\n                        },\n                        \"location\": {\n                            \"gps\": \"12.9716,77.5946\",\n                            \"address\": {\n                                \"building\": \"My Home\",\n                                \"city\": \"Bengaluru\",\n                                \"state\": \"Karnataka\",\n                                \"country\": \"IND\",\n                                \"area_code\": \"560001\"\n                            }\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{init_url}}",
                            "host": [
                                "{{init_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "confirm",
            "item": [
                {
                    "name": "ev-charging-confirm",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"location\": {\n            \"city\": {\n                \"code\": \"std:080\"\n            },\n            \"country\": {\n                \"code\": \"IND\"\n            }\n        },\n        \"action\": \"confirm\",\n        \"version\": \"2.0.0\",\n        \"bap_id\": \"app.example.com\",\n        \"bap_uri\": \"https://app.example.com/bap\",\n        \"bpp_id\": \"bpp.example.com\",\n        \"bpp_uri\": \"https://bpp.example.com/bpp\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"a1eabf26-29f5-4a01-9d4e-4c5c9d1a3d02\",\n        \"timestamp\": \"2025-10-14T07:31:00Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"id\": \"order-ev-charging-001\",\n            \"items\": [\n                {\n                    \"id\": \"IND*CPO1*cs-01*evse-01*connectorid-01\",\n                    \"quantity\": {\n                        \"count\": 1\n                    }\n                }\n            ],\n            \"provider\": {\n                \"id\": \"ecopower-charging\"\n            },\n            \"billing\": {\n                \"name\": \"John Doe\",\n                \"address\": \"Mapusa, Goa\",\n                \"state\": {\n                    \"name\": \"Goa\"\n                },\n                \"city\": {\n                    \"name\": \"Mapusa\"\n                },\n                \"email\": \"johndoe@example.com\",\n                \"phone\": \"+919876543210\"\n            },\n            \"fulfillment\": [\n                {\n                    \"end\": {\n                        \"contact\": {\n                            \"phone\": \"+919876543210\",\n                            \"email\": \"user@example.com\"\n                        },\n                        \"location\": {\n                            \"gps\": \"12.9716,77.5946\",\n                            \"address\": {\n                                \"building\": \"My Home\",\n                                \"city\": \"Bengaluru\",\n                                \"state\": \"Karnataka\",\n                                \"country\": \"IND\",\n                                \"area_code\": \"560001\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"payment\": {\n                \"params\": {\n                    \"amount\": \"143.95\",\n                    \"currency\": \"INR\",\n                    \"transaction_id\": \"txn-12345\"\n                },\n                \"status\": \"PAID\",\n                \"type\": \"PRE-FULFILLMENT\"\n            }\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{confirm_url}}",
                            "host": [
                                "{{confirm_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "update",
            "item": [
                {
                    "name": "ev-charging-start-update",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"2.0.0\",\n        \"action\": \"update\",\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"bap_id\": \"example-bap.com\",\n        \"bap_uri\": \"https://api.example-bap.com/pilot/bap/energy/v2\",\n        \"bpp_id\": \"example-bpp.com\",\n        \"bpp_uri\": \"https://example-bpp.com/pilot/bap/energy/v2\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"6bd7be5b-ac21-4a5c-a787-5ec6980317e6\",\n        \"timestamp\": \"2025-01-27T10:15:00Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n            \"@type\": \"beckn:Order\",\n            \"beckn:id\": \"order-ev-charging-001\",\n            \"beckn:orderStatus\": \"CONFIRMED\",\n            \"beckn:seller\": \"cpo1.com\",\n            \"beckn:buyer\": {\n                \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n                \"@type\": \"beckn:Buyer\",\n                \"beckn:id\": \"user-123\",\n                \"beckn:role\": \"BUYER\",\n                \"beckn:displayName\": \"Ravi Kumar\",\n                \"beckn:telephone\": \"+91-9876543210\",\n                \"beckn:email\": \"ravi.kumar@example.com\",\n                \"beckn:taxID\": \"GSTIN29ABCDE1234F1Z5\"\n            },\n            \"beckn:orderItems\": [\n                {\n                    \"beckn:orderedItem\": \"IND*ecopower-charging*cs-01*IN*ECO*BTM*01*CCS2*A*CCS2-A\"\n                }\n            ],\n            \"beckn:orderValue\": {\n                \"currency\": \"INR\",\n                \"value\": 143.95,\n                \"components\": [\n                    {\n                        \"type\": \"UNIT\",\n                        \"value\": 112.5,\n                        \"currency\": \"INR\",\n                        \"description\": \"Base charging session cost (45 INR/kWh \\u00d7 2.5 kWh)\"\n                    },\n                    {\n                        \"type\": \"SURCHARGE\",\n                        \"value\": 20.0,\n                        \"currency\": \"INR\",\n                        \"description\": \"Surge price (20%)\"\n                    },\n                    {\n                        \"type\": \"DISCOUNT\",\n                        \"value\": -15.0,\n                        \"currency\": \"INR\",\n                        \"description\": \"Offer discount (15%)\"\n                    },\n                    {\n                        \"type\": \"FEE\",\n                        \"value\": 10.0,\n                        \"currency\": \"INR\",\n                        \"description\": \"Service fee\"\n                    },\n                    {\n                        \"type\": \"FEE\",\n                        \"value\": 13.64,\n                        \"currency\": \"INR\",\n                        \"description\": \"Overcharge estimation\"\n                    },\n                    {\n                        \"type\": \"FEE\",\n                        \"value\": 2.81,\n                        \"currency\": \"INR\",\n                        \"description\": \"Buyer finder fee (2.5%)\"\n                    }\n                ]\n            },\n            \"beckn:fulfillment\": {\n                \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n                \"@type\": \"beckn:Fulfillment\",\n                \"beckn:id\": \"fulfillment-001\",\n                \"beckn:mode\": \"RESERVATION\",\n                \"beckn:deliveryAttributes\": {\n                    \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/EvChargingSession/v1/context.jsonld\",\n                    \"@type\": \"ChargingSession\",\n                    \"connectorType\": \"CCS2\",\n                    \"maxPowerKW\": 50,\n                    \"sessionStatus\": \"PENDING\"\n                }\n            },\n            \"beckn:payment\": {\n                \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n                \"@type\": \"beckn:Payment\",\n                \"beckn:id\": \"payment-123e4567-e89b-12d3-a456-426614174000\",\n                \"beckn:amount\": {\n                    \"currency\": \"INR\",\n                    \"value\": 143.95\n                },\n                \"beckn:paymentURL\": \"https://payments.bluechargenet-aggregator.io/pay?transaction_id=$transaction_id&amount=$amount\",\n                \"beckn:txnRef\": \"TXN-123456789\",\n                \"beckn:paidAt\": \"2025-12-19T10:05:00Z\",\n                \"beckn:beneficiary\": \"BPP\",\n                \"beckn:paymentStatus\": \"COMPLETED\"\n            }\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{update_url}}",
                            "host": [
                                "{{update_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "track",
            "item": [
                {
                    "name": "ev-charging-track",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"2.0.0\",\n        \"action\": \"track\",\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"bap_id\": \"example-bap.com\",\n        \"bap_uri\": \"https://api.example-bap.com/pilot/bap/energy/v2\",\n        \"bpp_id\": \"example-bpp.com\",\n        \"bpp_uri\": \"https://example-bpp.com/pilot/bpp/energy/v2\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"6ace310b-6440-4421-a2ed-b484c7548bd5\",\n        \"timestamp\": \"2025-01-27T17:00:40.065Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n            \"@type\": \"beckn:Order\",\n            \"beckn:id\": \"order-ev-charging-001\",\n            \"beckn:orderStatus\": \"INPROGRESS\",\n            \"beckn:seller\": \"cpo1.com\",\n            \"beckn:buyer\": {\n                \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n                \"@type\": \"beckn:Buyer\",\n                \"beckn:id\": \"user-123\"\n            },\n            \"beckn:orderItems\": [\n                {\n                    \"beckn:orderedItem\": \"IND*ecopower-charging*cs-01*IN*ECO*BTM*01*CCS2*A*CCS2-A\"\n                }\n            ]\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{track_url}}",
                            "host": [
                                "{{track_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "status",
            "item": [
                {
                    "name": "ev-charging-connector-status",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"location\": {\n            \"city\": {\n                \"code\": \"std:080\"\n            },\n            \"country\": {\n                \"code\": \"IND\"\n            }\n        },\n        \"action\": \"status\",\n        \"version\": \"2.0.0\",\n        \"bap_id\": \"app.example.com\",\n        \"bap_uri\": \"https://app.example.com/bap\",\n        \"bpp_id\": \"bpp.example.com\",\n        \"bpp_uri\": \"https://bpp.example.com/bpp\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"a1eabf26-29f5-4a01-9d4e-4c5c9d1a3d02\",\n        \"timestamp\": \"2025-10-14T07:31:00Z\",\n        \"ttl\": \"PT30S\"\n    },\n    \"message\": {\n        \"order\": {\n            \"id\": \"order-ev-charging-001\"\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{status_url}}",
                            "host": [
                                "{{status_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "rating",
            "item": [
                {
                    "name": "ev-charging-rating",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"2.0.0\",\n        \"action\": \"rating\",\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"bpp_id\": \"example-bpp.com\",\n        \"bpp_uri\": \"https://example-bpp.com/pilot/bap/energy/v2\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"89ee20fe-b592-48b0-a5c5-e38f6b90e569\",\n        \"timestamp\": \"2025-01-27T12:00:00Z\",\n        \"ttl\": \"PT30S\",\n        \"bap_id\": \"example-bap.com\",\n        \"bap_uri\": \"https://api.example-bap.com/pilot/bap/energy/v2\"\n    },\n    \"message\": {\n        \"ratings\": [\n            {\n                \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n                \"@type\": \"beckn:RatingInput\",\n                \"beckn:id\": \"fulfillment-001\",\n                \"beckn:ratingValue\": 4,\n                \"beckn:bestRating\": 5,\n                \"beckn:worstRating\": 1,\n                \"beckn:category\": \"FULFILLMENT\",\n                \"beckn:feedback\": {\n                    \"comments\": \"Excellent charging experience! The station was clean, easy to find, and the charging was fast and reliable. The staff was helpful and the payment process was smooth.\",\n                    \"tags\": [\n                        \"fast-charging\",\n                        \"easy-to-use\",\n                        \"clean-station\",\n                        \"helpful-staff\",\n                        \"smooth-payment\"\n                    ]\n                }\n            }\n        ]\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{rating_url}}",
                            "host": [
                                "{{rating_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "support",
            "item": [
                {
                    "name": "ev-charging-support",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"context\": {\n        \"version\": \"2.0.0\",\n        \"action\": \"support\",\n        \"domain\": \"beckn.one:deg:ev-charging:*\",\n        \"bpp_id\": \"example-bpp.com\",\n        \"bpp_uri\": \"https://example-bpp.com/pilot/bap/energy/v2\",\n        \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n        \"message_id\": \"dee432d9-36c9-4146-ad21-2f5bcac9b6a9\",\n        \"timestamp\": \"2025-01-27T12:15:00Z\",\n        \"ttl\": \"PT30S\",\n        \"bap_id\": \"example-bap.com\",\n        \"bap_uri\": \"https://api.example-bap.com/pilot/bap/energy/v2\"\n    },\n    \"message\": {\n        \"refId\": \"order-ev-charging-001\",\n        \"refType\": \"ORDER\",\n        \"support\": {\n            \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/main/schema/core/v2/context.jsonld\",\n            \"@type\": \"beckn:SupportInfo\",\n            \"name\": \"Ravi Kumar\",\n            \"phone\": \"+91-9876543210\",\n            \"email\": \"ravi.kumar@example.com\",\n            \"hours\": \"Mon\\u2013Sun: 6:00 PM - 10:00 PM IST\",\n            \"channels\": [\n                \"PHONE\",\n                \"WHATSAPP\"\n            ]\n        }\n    },\n    \"error\": {}\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{support_url}}",
                            "host": [
                                "{{support_url}}"
                            ],
                            "path": []
                        }
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Note: transaction_id is generated only when discover request is made",
                    "// Other requests use the stored transaction_id from environment",
                    "",
                    "// Generate message_id for each request (unique per request)",
                    "const messageId = pm.variables.replaceIn('{{$guid}}');",
                    "pm.environment.set('message_id', messageId);",
                    "",
                    "// Generate timestamp in ISO 8601 format",
                    "const timestamp = new Date().toISOString();",
                    "pm.environment.set('timestamp', timestamp);",
                    "",
                    "// Extract and store order_id from request body if available",
                    "const requestBody = pm.request.body;",
                    "if (requestBody && requestBody.raw) {",
                    "    try {",
                    "        const bodyJson = JSON.parse(requestBody.raw);",
                    "        if (bodyJson.message && bodyJson.message.order && bodyJson.message.order['beckn:id']) {",
                    "            pm.environment.set('order_id', bodyJson.message.order['beckn:id']);",
                    "        }",
                    "        if (bodyJson.message && bodyJson.message.order && bodyJson.message.order.fulfillment && bodyJson.message.order.fulfillment['beckn:deliveryAttributes'] && bodyJson.message.order.fulfillment['beckn:deliveryAttributes'].sessionId) {",
                    "            pm.environment.set('session_id', bodyJson.message.order.fulfillment['beckn:deliveryAttributes'].sessionId);",
                    "        }",
                    "    } catch (e) {",
                    "        console.log('Error parsing request body: ' + e.message);",
                    "    }",
                    "}"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Store order_id and session_id from response",
                    "if (pm.response.code === 200 || pm.response.code === 202) {",
                    "    try {",
                    "        const responseJson = pm.response.json();",
                    "        if (responseJson.message && responseJson.message.order && responseJson.message.order['beckn:id']) {",
                    "            pm.environment.set('order_id', responseJson.message.order['beckn:id']);",
                    "            console.log('Order ID stored: ' + responseJson.message.order['beckn:id']);",
                    "        }",
                    "        if (responseJson.message && responseJson.message.order && responseJson.message.order.fulfillment && responseJson.message.order.fulfillment['beckn:deliveryAttributes'] && responseJson.message.order.fulfillment['beckn:deliveryAttributes'].sessionId) {",
                    "            pm.environment.set('session_id', responseJson.message.order.fulfillment['beckn:deliveryAttributes'].sessionId);",
                    "            console.log('Session ID stored: ' + responseJson.message.order.fulfillment['beckn:deliveryAttributes'].sessionId);",
                    "        }",
                    "    } catch (e) {",
                    "        console.log('Error parsing response: ' + e.message);",
                    "    }",
                    "}",
                    "",
                    "// Test assertions",
                    "pm.test('Status code is 200 or 202', function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 202]);",
                    "});"
                ]
            }
        }
    ]
}